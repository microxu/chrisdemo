var movies=[
    {
      id: '10',
      title:'A Very English Scandal',
      akas: ["Egy nagyon angolos botr", "Un scandal britanic"],
      genres: [  "Drama", "Legal"],
      image: [ "http://static.tvmaze.com/uploads/images/medium_portrait/164/411209.jpg", "http://static.tvmaze.com/uploads/images/original_untouched/164/411209.jpg"],
      rating: 7,
      lang:'English',
      timestamp: '2019/7/21  1:07:53'
    },
    {
        id: '20',
        title:'A Very English Scandal',
        akas: ["Egy nagyon angolos botr", "Un scandal britanic"],
        genres: [ "Drama", "Legal"],
        image: [ "http://static.tvmaze.com/uploads/images/medium_portrait/164/411209.jpg", "http://static.tvmaze.com/uploads/images/original_untouched/164/411209.jpg"],
        rating: 7,
        lang:'English',
        timestamp: '2019/7/21  1:07:53'
    },
    {
        id: '30',
        title:'A Very English Scandal',
        akas: ["Egy nagyon angolos botr", "Un scandal britanic"],
        genres: [ "Adventure", "Drama"],
        image: [ "http://static.tvmaze.com/uploads/images/medium_portrait/164/411209.jpg", "http://static.tvmaze.com/uploads/images/original_untouched/164/411209.jpg"],
        rating: 7,
        lang:'English',
        timestamp: '2019/7/21  1:07:53'
    },
    {
        id: '40',
        title:'A Very English Scandal',
        akas: ["Egy nagyon angolos botr", "Un scandal britanic"],
        genres: [  "Comedy" ],
        image: [ "http://static.tvmaze.com/uploads/images/medium_portrait/164/411209.jpg", "http://static.tvmaze.com/uploads/images/original_untouched/164/411209.jpg"],
        rating: 7,
        lang:'English',
        timestamp: '2019/7/21  1:07:53'
      },
      {
          id: '50',
          title:'A Very English Scandal',
          akas: ["Egy nagyon angolos botr", "Un scandal britanic"],
          genres: [ "Adventure", "Drama"],
          image: [ "http://static.tvmaze.com/uploads/images/medium_portrait/164/411209.jpg", "http://static.tvmaze.com/uploads/images/original_untouched/164/411209.jpg"],
          rating: 7,
          lang:'English',
          timestamp: '2019/7/21  1:07:53'
      },
      {
          id: '60',
          title:'A Very English Scandal',
          akas: ["Egy nagyon angolos botr", "Un scandal britanic"],
          genres: [ "Adventure", "Drama"],
          image: [ "http://static.tvmaze.com/uploads/images/medium_portrait/164/411209.jpg", "http://static.tvmaze.com/uploads/images/original_untouched/164/411209.jpg"],
          rating: 7,
          lang:'English',
          timestamp: '2019/7/21  1:07:53'
      },
      {
        id: '70',
        title:'A Very English Scandal',
        akas: ["Egy nagyon angolos botr", "Un scandal britanic"],
        genres: [ "Adventure", "Drama"],
        image: [ "http://static.tvmaze.com/uploads/images/medium_portrait/164/411209.jpg", "http://static.tvmaze.com/uploads/images/original_untouched/164/411209.jpg"],
        rating: 7,
        lang:'English',
        timestamp: '2019/7/21  1:07:53'
      },
      {
          id: '80',
          title:'A Very English Scandal',
          akas: ["Egy nagyon angolos botr", "Un scandal britanic"],
          genres: [  "Comedy" ],
          image: [ "http://static.tvmaze.com/uploads/images/medium_portrait/164/411209.jpg", "http://static.tvmaze.com/uploads/images/original_untouched/164/411209.jpg"],
          rating: 7,
          lang:'Chinese',
          timestamp: '2019/7/21  1:07:53'
      },
      {
          id: '90',
          title:'A Very English Scandal',
          akas: ["Egy nagyon angolos botr", "Un scandal britanic"],
          genres: [ "Adventure", "Drama"],
          image: [ "http://static.tvmaze.com/uploads/images/medium_portrait/164/411209.jpg", "http://static.tvmaze.com/uploads/images/original_untouched/164/411209.jpg"],
          rating: 7,
          lang:'Chinese',
          timestamp: '2019/7/21  1:07:53'
      },
      {
        id: '190',
        title:'A Very English Scandal',
        akas: ["Egy nagyon angolos botr", "Un scandal britanic"],
        genres: [ "Adventure", "Drama"],
        image: [ "http://static.tvmaze.com/uploads/images/medium_portrait/164/411209.jpg", "http://static.tvmaze.com/uploads/images/original_untouched/164/411209.jpg"],
        rating: 7,
        lang:'Chinese',
        timestamp: '2019/7/21  1:07:53'
    },      {
      id: '290',
      title:'A Very English Scandal',
      akas: ["Egy nagyon angolos botr", "Un scandal britanic"],
      genres: [ "Adventure", "Drama"],
      image: [ "http://static.tvmaze.com/uploads/images/medium_portrait/164/411209.jpg", "http://static.tvmaze.com/uploads/images/original_untouched/164/411209.jpg"],
      rating: 7,
      lang:'Chinese',
      timestamp: '2019/7/21  1:07:53'
  },
  {
    id: '390',
    title:'A Very English Scandal',
    akas: ["Egy nagyon angolos botr", "Un scandal britanic"],
    genres: [ "Adventure", "Drama"],
    image: [ "http://static.tvmaze.com/uploads/images/medium_portrait/164/411209.jpg", "http://static.tvmaze.com/uploads/images/original_untouched/164/411209.jpg"],
    rating: 7,
    lang:'Chinese',
    timestamp: '2019/7/21  1:07:53'
},
{
  id: '490',
  title:'A Very English Scandal',
  akas: ["Egy nagyon angolos botr", "Un scandal britanic"],
  genres: [ "Adventure", "Drama"],
  image: [ "http://static.tvmaze.com/uploads/images/medium_portrait/164/411209.jpg", "http://static.tvmaze.com/uploads/images/original_untouched/164/411209.jpg"],
  rating: 7,
  lang:'Chinese',
  timestamp: '2019/7/21  1:07:53'
},
{
  id: '590',
  title:'A Very English Scandal',
  akas: ["Egy nagyon angolos botr", "Un scandal britanic"],
  genres: [ "Adventure", "Drama"],
  image: [ "http://static.tvmaze.com/uploads/images/medium_portrait/164/411209.jpg", "http://static.tvmaze.com/uploads/images/original_untouched/164/411209.jpg"],
  rating: 7,
  lang:'Chinese',
  timestamp: '2019/7/21  1:07:53'
},
{
  id: '690',
  title:'A Very English Scandal',
  akas: ["Egy nagyon angolos botr", "Un scandal britanic"],
  genres: [ "Adventure", "Drama"],
  image: [ "http://static.tvmaze.com/uploads/images/medium_portrait/164/411209.jpg", "http://static.tvmaze.com/uploads/images/original_untouched/164/411209.jpg"],
  rating: 7,
  lang:'Chinese',
  timestamp: '2019/7/21  1:07:53'
},
{
  id: '790',
  title:'A Very English Scandal',
  akas: ["Egy nagyon angolos botr", "Un scandal britanic"],
  genres: [ "Adventure", "Drama"],
  image: [ "http://static.tvmaze.com/uploads/images/medium_portrait/164/411209.jpg", "http://static.tvmaze.com/uploads/images/original_untouched/164/411209.jpg"],
  rating: 7,
  lang:'Chinese',
  timestamp: '2019/7/21  1:07:53'
}

  ];
 
  const baseUrl='http://localhost:8080/movies/';
  async function getMoviesAsync(pageNum) {
    if (baseUrl=='')
      return movies;
    else{
      try {
        const response = await fetch(baseUrl+pageNum+"/30");
        if (!response.ok) {
            throw Error(response.statusText);
        }
        return await response.json();

    } catch (error) {
        return {};
    }    
    }
  }
  async function getMovieDetails(title) {
    try {
        const response = await fetch(`http://api.tvmaze.com/singlesearch/shows?q=` + title);
        if (!response.ok) {
            throw Error(response.statusText);
        }
        return await response.json();

    } catch (error) {
        return {};
    }
}
  export const stubClient = {
    getMoviesAsync,
    getMovieDetails
  };